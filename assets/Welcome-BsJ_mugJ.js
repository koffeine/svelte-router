import{c as x,b as Q,g as N,d as Y,i as F,a as Z,e as R,s as $,f as L,m as j,E as ee,h as re,j as ne,k as z,l as ae,n as A,r as J,p as K,I as y,o as fe,q as se,t as te,N as le,u as ie,v as oe,w as ue,x as P,y as ve,z as q,A as ce,B as U,C as k,D as de,F as pe,G as B,H as D,J as O,K as ge,L as V,M as he}from"./index-s2wT6vK_.js";function _e(e,a,r){for(var o=[],u=a.length,t,v=a.length,f=0;f<u;f++){let i=a[f];K(i,()=>{if(t){if(t.pending.delete(i),t.done.add(i),t.pending.size===0){var d=e.outrogroups;H(z(t.done)),d.delete(t),d.size===0&&(e.outrogroups=null)}}else v-=1},!1)}if(v===0){var c=o.length===0&&r!==null;if(c){var s=r,l=s.parentNode;se(l),l.append(s),e.items.clear()}H(a,!c)}else t={pending:new Set(a),done:new Set},(e.outrogroups??=new Set).add(t)}function H(e,a=!0){for(var r=0;r<e.length;r++)te(e[r],a)}var W;function me(e,a,r,o,u,t=null){var v=e,f=new Map;{var c=e;v=c.appendChild(x())}var s=null,l=Y(()=>{var h=r();return ae(h)?h:h==null?[]:z(h)}),i,d=!0;function C(){m.fallback=s,Ee(m,i,v,a,o),s!==null&&(i.length===0?(s.f&A)===0?J(s):(s.f^=A,T(s,null,v)):K(s,()=>{s=null}))}var n=Q(()=>{i=N(l);for(var h=i.length,M=new Set,p=Z,I=$(),_=0;_<h;_+=1){var E=i[_],S=o(E,_),g=d?null:f.get(S);g?(g.v&&F(g.v,E),g.i&&F(g.i,_),I&&p.skipped_effects.delete(g.e)):(g=be(f,d?v:W??=x(),E,S,_,u,a,r),d||(g.e.f|=A),f.set(S,g)),M.add(S)}if(h===0&&t&&!s&&(d?s=R(()=>t(v)):(s=R(()=>t(W??=x())),s.f|=A)),!d)if(I){for(const[b,X]of f)M.has(b)||p.skipped_effects.add(X.e);p.oncommit(C),p.ondiscard(()=>{})}else C();N(l)}),m={effect:n,items:f,outrogroups:null,fallback:s};d=!1}function Ee(e,a,r,o,u){var t=a.length,v=e.items,f=e.effect.first,c,s=null,l=[],i=[],d,C,n,m;for(m=0;m<t;m+=1){if(d=a[m],C=u(d,m),n=v.get(C).e,e.outrogroups!==null)for(const b of e.outrogroups)b.pending.delete(n),b.done.delete(n);if((n.f&A)!==0)if(n.f^=A,n===f)T(n,null,r);else{var h=s?s.next:f;n===e.effect.last&&(e.effect.last=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),w(e,s,n),w(e,n,h),T(n,h,r),s=n,l=[],i=[],f=s.next;continue}if((n.f&y)!==0&&J(n),n!==f){if(c!==void 0&&c.has(n)){if(l.length<i.length){var M=i[0],p;s=M.prev;var I=l[0],_=l[l.length-1];for(p=0;p<l.length;p+=1)T(l[p],M,r);for(p=0;p<i.length;p+=1)c.delete(i[p]);w(e,I.prev,_.next),w(e,s,I),w(e,_,M),f=M,s=_,m-=1,l=[],i=[]}else c.delete(n),T(n,f,r),w(e,n.prev,n.next),w(e,n,s===null?e.effect.first:s.next),w(e,s,n),s=n;continue}for(l=[],i=[];f!==null&&f!==n;)(c??=new Set).add(f),i.push(f),f=f.next;if(f===null)continue}(n.f&A)===0&&l.push(n),s=n,f=n.next}if(e.outrogroups!==null){for(const b of e.outrogroups)b.pending.size===0&&(H(z(b.done)),e.outrogroups?.delete(b));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||c!==void 0){var E=[];if(c!==void 0)for(n of c)(n.f&y)===0&&E.push(n);for(;f!==null;)(f.f&y)===0&&f!==e.fallback&&E.push(f),f=f.next;var S=E.length;if(S>0){var g=t===0?r:null;_e(e,E,g)}}}function be(e,a,r,o,u,t,v,f){var c=(v&re)!==0?(v&ne)===0?j(r,!1,!1):L(r):null,s=(v&ee)!==0?L(u):null;return{v:c,i:s,e:R(()=>(t(a,c??r,s??u,f),()=>{e.delete(o)}))}}function T(e,a,r){if(e.nodes)for(var o=e.nodes.start,u=e.nodes.end,t=a&&(a.f&A)===0?a.nodes.start:r;o!==null;){var v=fe(o);if(t.before(o),o===u)return;o=v}}function w(e,a,r){a===null?e.effect.first=r:a.next=r,r===null?e.effect.last=a:r.prev=a}const we=Symbol("is custom element"),Ae=Symbol("is html");function Ce(e,a,r,o){var u=Me(e);u[a]!==(u[a]=r)&&(r==null?e.removeAttribute(a):typeof r!="string"&&Se(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function Me(e){return e.__attributes??={[we]:e.nodeName.includes("-"),[Ae]:e.namespaceURI===le}}var G=new Map;function Se(e){var a=e.getAttribute("is")||e.nodeName,r=G.get(a);if(r)return r;G.set(a,r=[]);for(var o,u=e,t=Element.prototype;t!==u;){o=oe(u);for(var v in o)o[v].set&&r.push(v);u=ie(u)}return r}var Ie=P("<li> </li>"),Te=P('<h1> </h1> Numbers: <ul></ul> <button type="button">Reverse</button> <a>Reverse</a>',1);function ke(e,a){ue(a,!0);const r=U(()=>[1,2,3].sort((l,i)=>(l-i)*(k.query.order==="desc"?-1:1))),o=U(()=>({order:k.query.order==="desc"?"asc":"desc"}));var u=Te(),t=ve(u),v=V(t),f=q(t,2);me(f,20,()=>N(r),l=>l,(l,i)=>{var d=Ie(),C=V(d);B(()=>D(C,i)),O(l,d)});var c=q(f,2);c.__click=()=>ce(k.path,{query:N(o)});var s=q(c,2);de(s,()=>pe({query:N(o)})),B(l=>{D(v,`Welcome, ${l??""}!`),Ce(s,"href",k.path)},[()=>a.name[0].toUpperCase()+a.name.slice(1)]),O(e,u),ge()}he(["click"]);export{ke as default};
